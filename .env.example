# =============================================================================
# JURISPOCKET - CONFIGURAÇÕES DE PRODUÇÃO
# =============================================================================

# Copie este arquivo para .env e preencha seus valores

# -----------------------------------------------------------------------------
# SEGURANÇA (Obrigatório)
# -----------------------------------------------------------------------------
SECRET_KEY=sua-chave-super-secreta-aqui-minimo-32-caracteres

# -----------------------------------------------------------------------------
# API DATAJUD (CNJ) - Para consulta de processos
# Obtenha em: https://datajud.cnj.jus.br
# -----------------------------------------------------------------------------
DATAJUD_API_KEY=sua-api-key-do-datajud

# -----------------------------------------------------------------------------
# IA - Groq (Recomendado - Gratuito)
# Obtenha em: https://console.groq.com
# -----------------------------------------------------------------------------
GROQ_API_KEY=sua-chave-groq

# -----------------------------------------------------------------------------
# WHATSAPP
# -----------------------------------------------------------------------------
# Número do time de vendas (com prefixo 55)
WHATSAPP_VENDAS=5511999999999
# Frontend (Vite) usa essa variavel para links de upgrade em tela
VITE_WHATSAPP_VENDAS=5511999999999

# Microservico WhatsApp Web (Node.js + Baileys)
WHATSAPP_MICROSERVICE_URL=http://whatsapp-service:3001
WHATSAPP_MICROSERVICE_TOKEN=troque-essa-chave
WHATSAPP_PLATFORM_SESSION_KEY=platform
WHATSAPP_ACK_WAIT_MS=12000
WHATSAPP_ACK_POLL_MS=250

# -----------------------------------------------------------------------------
# EMAIL (SMTP)
# -----------------------------------------------------------------------------
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=contato@jurispocket.com.br
SMTP_PASS=sua-senha-de-app
SMTP_FROM=contato@jurispocket.com.br
# Timeout de conexão SMTP em segundos (evita travar requisições)
SMTP_TIMEOUT_SECONDS=12
# Alternativa recomendada para Railway (envio por HTTPS, sem porta SMTP)
RESEND_API_KEY=re_xxxxxxxxxxxxxxxxxxxxx
RESEND_FROM=JurisPocket <no-reply@seu-dominio.com.br>
RESEND_API_URL=https://api.resend.com/emails
RESEND_TIMEOUT_SECONDS=12
# URL pública da aplicação usada nos links dos emails
APP_URL=https://seu-dominio.com.br
# Verificação de email no cadastro (minutos e limite de tentativas)
EMAIL_VERIFICATION_TTL_MINUTES=10
EMAIL_VERIFICATION_MAX_ATTEMPTS=5

# -----------------------------------------------------------------------------
# URL DO SERVIDOR
# -----------------------------------------------------------------------------
SERVER_URL=https://seu-dominio.com.br
VITE_API_URL=https://seu-dominio.com.br/api

# -----------------------------------------------------------------------------
# DATABASE (SQLite - não precisa configurar)
# O banco será criado automaticamente em ./data/
# -----------------------------------------------------------------------------
DATABASE_PATH=/app/data/jurispocket.db

# -----------------------------------------------------------------------------
# PERSISTENCIA WHATSAPP
# Use um diretório em volume persistente para evitar logout a cada deploy.
# Exemplo Railway com volume: /data/whatsapp-sessions
# -----------------------------------------------------------------------------
WHATSAPP_SESSIONS_DIR=/app/data/whatsapp-sessions

# -----------------------------------------------------------------------------
# JOBS EM BACKGROUND (APScheduler)
# Se o deploy falhar no boot, desative temporariamente com "false"
# para isolar problemas sem derrubar a API.
# -----------------------------------------------------------------------------
ENABLE_BACKGROUND_JOBS=true
